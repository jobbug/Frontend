<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="mypage.css">
    <title>mypage</title>
</head>
<body class="mypage">
    <div class="content-container">
        <!-- í”„ë¡œí•„ ì¹´ë“œ -->
        <div class="box profile-box">
            <div class="profile-picture">ì‚¬ì§„</div>
            <div class="profile-info">
                <div class="profile-name">ì´ì¸ì„ </div>
                <div class="profile-nickname">ì¸ì„ ì´ë²Œë ˆì¢‹ì•„í•´</div>
                <a href="myedit.html" class="edit-button">ìˆ˜ì •í•˜ê¸°</a>
            </div>
        </div>

        <!-- ì§„í–‰ ì¤‘ì¸ ìš”ì²­ ìˆ˜ë½ -->
        <div class="box current-box">
            <div class="status-title">ì§„í–‰ ì¤‘ì¸ ìš”ì²­/ìˆ˜ë½</div>
            <div class="status-detail">ì„¸ì—°ì´ë²Œë ˆì‹«ì–´í•´ë‹˜ì˜ ìš”ì²­ ìˆ˜ë½ì¤‘</div>
            <a href="#" class="detail-button" id="detailButton">ìƒì„¸ë³´ê¸°</a>

            <script>
            // ìµœê·¼ ìˆ˜ë½ ì—¬ë¶€ì™€ ìš”ì²­ ì—¬ë¶€ë¥¼ localStorageì— ì €ì¥ëœ ë°ì´í„°ë¡œ ê°€ì •
            // ì„œë²„ì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ëŠ” ë¶€ë¶„ì€ APIì™€ í•¨ê»˜ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            // ì˜ˆì‹œ: 'recentAction' ê°’ì´ 'accept'ì´ë©´ ìˆ˜ë½ ì§„í–‰ì¤‘, 'request'ì´ë©´ ìš”ì²­ ì§„í–‰ì¤‘.
            let recentAction = localStorage.getItem('recentAction'); 
            
            document.getElementById('detailButton').addEventListener('click', function(event) {
                event.preventDefault(); // ê¸°ë³¸ ë™ì‘ ë§‰ê¸°
            
                if (recentAction === 'accept') {
                    // ìµœê·¼ì— ìˆ˜ë½ì„ ì§„í–‰í–ˆìœ¼ë©´ mycurrentAccept.htmlë¡œ ì´ë™
                    window.location.href = 'mycurrentAccept.html';
                } else if (recentAction === 'request') {
                    // ìµœê·¼ì— ìš”ì²­ì„ í–ˆìœ¼ë©´ mycurrentRequest.htmlë¡œ ì´ë™
                    window.location.href = 'mycurrentRequest.html';
                } else {
                    // ìˆ˜ë½ ë˜ëŠ” ìš”ì²­ ì •ë³´ê°€ ì—†ì„ ê²½ìš° ê¸°ë³¸ í˜ì´ì§€ë¡œ ì´ë™ (ì˜ˆ: mycurrent.html)
                    window.location.href = 'mycurrent.html';
                }
            });
            </script>
                        <hr class="divider">
            <div class="badge">
                <span>ğŸ´ ë°”í€´ë²Œë ˆ í•™ì‚´ì</span>
                <span>â¤ï¸ ê³ ìˆ˜</span>
            </div>
        </div>

        <!-- ìš”ì²­ ë‚´ì—­ ë³´ê¸° -->
        <div class="box request-history-box">
            <h2>ìš”ì²­ ë‚´ì—­ ë³´ê¸°</h2>
            <hr class="divider">
            <div class="total-count">ì´ <span style="color: green;">15</span>íšŒ</div>
            <ul class="history-list">
                <li class="history-item">
                    <span class="date">2024/8/29</span>
                    <span class="bug-type">ë°”í€´ë²Œë ˆ</span>
                    <a href="myrequest.html" class="arrow-button">â†’</a>
                </li>
                <!-- í•„ìš”í•œ ê²½ìš° ë‹¤ë¥¸ í•­ëª© ì¶”ê°€ -->
            </ul>
        </div>

        <!-- ìˆ˜ë½ ë‚´ì—­ ë³´ê¸° -->
        <div class="box accept-history-box">
            <h2>ìˆ˜ë½ ë‚´ì—­ ë³´ê¸°</h2>
            <hr class="divider">
            <div class="total-count">ì´ <span style="color: blue;">73</span>íšŒ</div>
            <ul class="history-list">
                <li class="history-item">
                    <span class="date">2024/8/29</span>
                    <span class="bug-type">ë°”í€´ë²Œë ˆ</span>
                    <span class="rating">í‰ì : 5/5</span>
                    <button class="success-button">ì„±ê³µ</button>
                    <a href="myaccept.html" class="arrow-button">â†’</a>
                </li>
                <!-- í•„ìš”í•œ ê²½ìš° ë‹¤ë¥¸ í•­ëª© ì¶”ê°€ -->
            </ul>
        </div>
    </div>
</body>
</html>
